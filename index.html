<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Universal RGB Image Renderer PRO</title>

<style>
body{
background:#0a0a0a;
color:#00ff88;
font-family:monospace;
text-align:center;
padding:20px;
}

h1{color:white;}

.instructions{
max-width:900px;
margin:auto;
text-align:left;
color:#cccccc;
margin-bottom:20px;
}

textarea{
width:95%;
height:200px;
background:#111;
color:#00ff88;
border:1px solid #00ff88;
padding:10px;
margin-top:10px;
}

input,select{
background:#111;
color:#00ff88;
border:1px solid #00ff88;
padding:6px;
margin:5px;
text-align:center;
}

button{
padding:12px 25px;
margin:10px;
border:none;
font-size:16px;
cursor:pointer;
}

#convert{background:#00aa44;color:white;}
#fast{background:#aa0000;color:white;}
#slow{background:#0044aa;color:white;}
#commitStress{background:#0066ff;color:white;}

canvas{
margin-top:30px;
border:1px solid #00ff88;
image-rendering:pixelated;
background:black;
}

#error{color:red;margin-top:10px;}
#warning{color:#ff4444;margin-top:10px;}
</style>
</head>

<body>

<h1>Universal RGB Image Renderer PRO</h1>

<div class="instructions">
<b>Instructions:</b><br>
• Size range: 1–4000<br>
• Each pixel = 3 values (R G B)<br>
• Format determines interpretation<br>
• Only warning appears at 500×500 or above<br>
</div>

Size (W-H):
<input id="size" value="2-2">

Format:
<select id="format">
<option value="binary">Binary (8-bit)</option>
<option value="decimal">Decimal (0-255)</option>
<option value="hex">Hex (00-FF)</option>
<option value="octal">Octal (000-377)</option>
<option value="morse">Morse (-=1 .=0)</option>
<option value="colorcode">Color Code (#RRGGBB)</option>
</select>

<br>

Mode:
<select id="modeSelect">
<option value="normal">Normal</option>
<option value="stress">Stress Test Mode</option>
</select>

<button id="commitStress" onclick="generateStress()">Commit Stress Test</button>

<br>

<textarea id="inputData" placeholder="Values separated by spaces..."></textarea>

<br>

<button id="convert" onclick="renderImage()">Convert</button>
<button id="fast" onclick="renderImage('fast')">FAST MODE</button>
<button id="slow" onclick="renderImage('slow')">SLOW MODE</button>

<div id="warning"></div>
<div id="error"></div>

<canvas id="canvas"></canvas>

<script>

function generateStress(){

if(document.getElementById("modeSelect").value!=="stress") return;

let size=document.getElementById("size").value.split("-");
let w=parseInt(size[0]);
let h=parseInt(size[1]);
let format=document.getElementById("format").value;

if(!w||!h||w<1||h<1||w>4000||h>4000){
document.getElementById("error").textContent="Invalid size.";
return;
}

let total=w*h;
let output="";

for(let i=0;i<total;i++){

if(format==="colorcode"){
let r=Math.floor(Math.random()*256).toString(16).padStart(2,"0");
let g=Math.floor(Math.random()*256).toString(16).padStart(2,"0");
let b=Math.floor(Math.random()*256).toString(16).padStart(2,"0");
output+="#"+r+g+b+" ";
}else{
for(let j=0;j<3;j++){
let val=Math.floor(Math.random()*256);
if(format==="binary") output+=val.toString(2).padStart(8,"0")+" ";
if(format==="decimal") output+=val+" ";
if(format==="hex") output+=val.toString(16).toUpperCase()+" ";
if(format==="octal") output+=val.toString(8)+" ";
if(format==="morse"){
let bin=val.toString(2).padStart(8,"0");
output+=bin.replace(/1/g,"-").replace(/0/g,".")+" ";
}
}
}
}

document.getElementById("inputData").value=output.trim();
}

function parseValue(value,format){

if(format==="binary"){
if(!/^[01]{8}$/.test(value)) return null;
return parseInt(value,2);
}

if(format==="decimal"){
let n=parseInt(value,10);
return (n>=0&&n<=255)?n:null;
}

if(format==="hex"){
if(!/^[0-9a-fA-F]{1,2}$/.test(value)) return null;
return parseInt(value,16);
}

if(format==="octal"){
if(!/^[0-7]{1,3}$/.test(value)) return null;
let n=parseInt(value,8);
return (n<=255)?n:null;
}

if(format==="morse"){
if(!/^[\.\-]{8}$/.test(value)) return null;
let b=value.replace(/-/g,"1").replace(/\./g,"0");
return parseInt(b,2);
}

return null;
}

function renderImage(mode){

document.getElementById("error").textContent="";
document.getElementById("warning").textContent="";

let size=document.getElementById("size").value.split("-");
let w=parseInt(size[0]);
let h=parseInt(size[1]);
let format=document.getElementById("format").value;

if(!w||!h||w<1||h<1||w>4000||h>4000){
document.getElementById("error").textContent="Invalid size.";
return;
}

if(w>=500||h>=500){
document.getElementById("warning").textContent="⚠ High resolution may consume significant memory.";
}

let total=w*h;

let canvas=document.getElementById("canvas");
let ctx=canvas.getContext("2d");
canvas.width=w;
canvas.height=h;
let imgData=ctx.createImageData(w,h);

let values=document.getElementById("inputData").value.trim().split(/\s+/);

if(format==="colorcode"){
if(values.length!==total){
document.getElementById("error").textContent="Incorrect number of color codes.";
return;
}
}else{
if(values.length!==total*3){
document.getElementById("error").textContent="Incorrect number of values.";
return;
}
}

function drawPixel(i,r,g,b){
imgData.data[i*4]=r;
imgData.data[i*4+1]=g;
imgData.data[i*4+2]=b;
imgData.data[i*4+3]=255;
}

if(mode==="slow"){
let i=0;
let interval=setInterval(()=>{
if(i>=total){
clearInterval(interval);
ctx.putImageData(imgData,0,0);
return;
}
let r,g,b;

if(format==="colorcode"){
let hex=values[i].replace("#","");
r=parseInt(hex.substring(0,2),16);
g=parseInt(hex.substring(2,4),16);
b=parseInt(hex.substring(4,6),16);
}else{
r=parseValue(values[i*3],format);
g=parseValue(values[i*3+1],format);
b=parseValue(values[i*3+2],format);
}

drawPixel(i,r,g,b);
i++;
},1);
}else{
for(let i=0;i<total;i++){
let r,g,b;

if(format==="colorcode"){
let hex=values[i].replace("#","");
r=parseInt(hex.substring(0,2),16);
g=parseInt(hex.substring(2,4),16);
b=parseInt(hex.substring(4,6),16);
}else{
r=parseValue(values[i*3],format);
g=parseValue(values[i*3+1],format);
b=parseValue(values[i*3+2],format);
}

drawPixel(i,r,g,b);
}
ctx.putImageData(imgData,0,0);
}

let scale=300/w;
canvas.style.width=(w*scale)+"px";
canvas.style.height=(h*scale)+"px";
}

</script>

</body>
</html> 