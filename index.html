<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Binary â†’ Image Renderer</title>

<style>
body {
    background: #0a0a0a;
    color: #00ff88;
    font-family: monospace;
    text-align: center;
    padding: 20px;
}

h1 {
    color: white;
}

.instructions {
    max-width: 900px;
    margin: auto;
    text-align: left;
    color: #cccccc;
}

textarea {
    width: 95%;
    height: 220px;
    background: #111;
    color: #00ff88;
    border: 1px solid #00ff88;
    padding: 10px;
    margin-top: 15px;
    resize: vertical;
}

input {
    background: #111;
    color: #00ff88;
    border: 1px solid #00ff88;
    padding: 6px;
    text-align: center;
    width: 140px;
}

button {
    background: #00aa44;
    color: white;
    border: none;
    padding: 15px 40px;
    font-size: 18px;
    margin-top: 20px;
    cursor: pointer;
}

button:hover {
    background: #00cc55;
}

canvas {
    margin-top: 40px;
    border: 1px solid #00ff88;
    image-rendering: pixelated;
    background: black;
    max-width: 95%;
}
</style>
</head>

<body>

<h1>Binary â†’ Image Renderer</h1>

<div class="instructions">
<b>Instructions:</b><br>
1. Enter size as Width-Height (min 1-1, max 1000-1000 pixels)<br>
2. Each pixel requires 3 binary groups (R G B)<br>
3. Each group must be exactly 8 bits<br>
4. Total groups = Width Ã— Height Ã— 3<br>
5. Large images may freeze slower devices<br>
</div>

<br>

Size (W-H):
<input id="size" value="2-2">

<br>

<textarea id="binaryInput" placeholder="Enter binary groups separated by spaces..."></textarea>

<br>

<button onclick="renderImage()">Convert</button>

<br>

<canvas id="canvas"></canvas>

<script>
function renderImage() {

    const sizeInput = document.getElementById("size").value.split("-");
    const width = parseInt(sizeInput[0]);
    const height = parseInt(sizeInput[1]);

    if (!width || !height || width < 1 || height < 1 || width > 1000 || height > 1000) {
        alert("Size must be between 1-1 and 1000-1000 pixels.");
        return;
    }

    const totalPixels = width * height;

    if (totalPixels > 500000) {
        if (!confirm("Large image detected (" + totalPixels + " pixels).\nThis may freeze slower devices.\nContinue?")) {
            return;
        }
    }

    const binary = document.getElementById("binaryInput")
        .value.trim()
        .split(/\s+/);

    const expectedGroups = totalPixels * 3;

    if (binary.length !== expectedGroups) {
        alert("Incorrect number of binary groups.\nExpected: " + expectedGroups);
        return;
    }

    for (let group of binary) {
        if (!/^[01]{8}$/.test(group)) {
            alert("Each binary group must be exactly 8 bits.");
            return;
        }
    }

    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");

    canvas.width = width;
    canvas.height = height;

    const imgData = ctx.createImageData(width, height);

    for (let i = 0; i < totalPixels; i++) {

        const r = parseInt(binary[i * 3], 2);
        const g = parseInt(binary[i * 3 + 1], 2);
        const b = parseInt(binary[i * 3 + 2], 2);

        imgData.data[i * 4] = r;
        imgData.data[i * 4 + 1] = g;
        imgData.data[i * 4 + 2] = b;
        imgData.data[i * 4 + 3] = 255;
    }

    ctx.putImageData(imgData, 0, 0);

    // ðŸ”¥ SECRET SAUCE SCALING
    const scale = 300 / width;
    canvas.style.width = (width * scale) + "px";
    canvas.style.height = (height * scale) + "px";
}
</script>

</body>
</html>